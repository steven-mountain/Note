vulkan术语



### 1、glfw 与 vulkan

`glfwGetRequiredInstanceExtensions`，获取glfw所需要的vulkan instance 拓展，glfw以次来创建窗口



### 2、Feature与Properties

"特性"（Features）和"属性"（Properties）是用来描述显卡（GPU）支持的**功能**和特定的**硬件参数**的两个不同概念。

在实际的 Vulkan 开发过程中，通常会**先查询物理设备的属性**，以选择合适的设备，**然后查询该设备支持的特性**，最后在**创建逻辑设备**时**启用所需的特性**。



**特性 (Features)**

特性通常指的是 GPU 支持的**可选的高级功能**，这些功能不是所有的 GPU 都支持。开发者可以通过查询特定的特性来决定是否使用某些高级图形技术或优化路径。如果一个应用程序依赖于某个特定的特性，那么在该特性不被支持的 GPU 上，应用程序可能需要降级其功能或以不同的方式实现。

例如，一些高级的纹理压缩格式、几何着色器、多视口渲染等功能，就是通过查询 GPU 的特性来决定是否可用的。在 Vulkan 中，你可以通过填充 `VkPhysicalDeviceFeatures` 结构体并使用 `vkGetPhysicalDeviceFeatures` 函数来查询这些支持的特性。

例如：

`VkPhysicalDeviceAccelerationStructureFeaturesKHR` 结构体则描述了物理设备支持的与加速结构相关的特性。这些特性表明了**设备是否支持某些光线追踪功能**，例如**加速结构的更新、加速结构的复制等**。通过查询这些特性，开发者可以确定在当前设备上哪些高级光线追踪功能是可用的，并据此启用或禁用特定的渲染路径或优化。



**属性 (Properties)**

属性则提供了关于 **GPU 和其内存的更具体的信息**，如供应商 ID、设备名称、内存大小等。属性不像特性那样表示可选的高级功能，而是提供了**关于硬件和驱动程序**的基本信息，这些信息可以帮助应用程序更好地理解它正在运行的平台，并根据这些信息做出适当的优化决策。

你可以通过填充特定的结构体（如 `VkPhysicalDeviceProperties`）并使用 `vkGetPhysicalDeviceProperties` 函数来获取 GPU 的属性信息。

例如：

`VkPhysicalDeviceAccelerationStructurePropertiesKHR` 结构体提供了有关物**理设备加速结构支持的具体属性信息**。这包括了一些关键的硬件限制，如**最大的几何体数量、实例数量、加速结构的最大大小等**。了解这些属性对于开发者在创建和管理加速结构时，能够根据硬件的能力来优化它们的使用是非常重要的。



**总结**

简而言之，**特性（Features）表示 GPU 支持的高级功能**，这些功能可能对某些应用程序的高级图形技术至关重要，而**属性（Properties）提供了关于 GPU 的基础信息**，如性能指标、硬件规格等。正确地查询和利用这些信息对于开发高性能、跨平台的 Vulkan 应用程序非常重要。



我们说启动**拓展**，其实就是查询硬件是否支持某些**特性**。



### 3、InstanceExtension 与 DeviceExtension的区别

扩展（Extensions）提供了**额外的功能**，这些功能并不包含在核心 Vulkan 规范中。扩展可以由显卡供应商、Khronos Group（Vulkan 的维护组织）或其他第三方提供。Vulkan 扩展分为两大类：**实例扩展**（Instance Extensions）和**设备扩展**（Device Extensions）。它们的主要区别在于**作用范围**和**使用的上下文**。

**实例扩展（Instance Extensions）**

- **作用范围**：实例扩展影响的是 Vulkan 实例的创建和**整个实例**的行为。Vulkan 实例是与**应用程序关联**的 Vulkan 的高级抽象，它是使用 Vulkan 进行绘制的入口点。
- **使用场景**：实例扩展通常用于**扩展 Vulkan 实例的功能**，如提供对新的表面类型的支持（用于显示输出的表面），或者增强调试和分层功能等。实例扩展不直接影响特定的 GPU 设备或渲染操作。
- **查询和启用**：在创建 Vulkan 实例时查询和启用实例扩展。你需要在调用 `vkCreateInstance` 之前查询支持的实例扩展，并在实例创建时指定要启用的实例扩展。

**设备扩展（Device Extensions）**

- **作用范围**：设备扩展影响的是**特定的物理设备（显卡）**及其队列和命令缓冲区的行为。设备扩展提供了对特定硬件功能的访问，这些功能可能并不是所有的硬件都支持。
- **使用场景**：设备扩展用于添加特定于**设备的功能**，如光线追踪、特定的图像格式支持，或者其他高级渲染技术等。这些扩展通常提供了对硬件特定功能的访问，使得开发者能够充分利用其显卡的高级功能。
- **查询和启用**：在创建逻辑设备时查询和启用设备扩展。你需要首先查询特定物理设备支持的设备扩展列表，然后在**创建逻辑设备**（`vkCreateDevice`）时指定要启用的设备扩展。

**总结**

实例扩展和设备扩展的主要区别在于它们的**作用范围和影响对象**：**实例扩展影响整个 Vulkan 实例的行为**，而**设备扩展提供了对特定硬件功能的访问**。在开发 Vulkan 应用程序时，根据应用程序的需求和目标硬件的支持情况，合理地查询和启用相应的扩展是很重要的。



### 4、VK_KHR_DEFERRED_HOST_OPERATIONS_EXTENSION_NAME

`VK_KHR_deferred_host_operations` 是 Vulkan 的一个扩展，而 `VK_KHR_DEFERRED_HOST_OPERATIONS_EXTENSION_NAME` 是这个扩展的名称字符串常量。这个扩展提供了一种机制，**允许某些操作在主机（CPU）上异步地执行**，而不是立即完成。这主要用于支持其他需要大量异步主机工作的扩展，比如光线追踪或者某些复杂的计算任务。**这样可以避免阻塞主线程，提高应用程序的响应性和性能。**

之所以是deviceExtension，因为它提供的功能和特性是针对**特定物理设备**（GPU）的。这个扩展允许对那些可能需要大量异步主机工作的设备级操作进行优化和异步处理，这些操作和设备的具体能力密切相关。